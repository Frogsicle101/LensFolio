<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">


<!--The head fragment-->
<head th:fragment="headerfiles">

    <meta charset="UTF-8"/>

    <!-- jQuery -->
    <script crossorigin="anonymous"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
            src="https://code.jquery.com/jquery-3.6.0.min.js">
    </script>
    <!-- jQuery UI -->
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>
    <!-- Bootstrap -->
    <script crossorigin="anonymous"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js">
    </script>
    <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css' rel='stylesheet'>

    <!--Roboto Font-->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
          rel="stylesheet">

    <!--Lobster Font-->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Lobster+Two:ital,wght@0,400;0,700;1,400;1,700&display=swap"
          rel="stylesheet">

    <!--Style Sheet-->
    <link rel="stylesheet" th:href="@{css/styles.css}">

    <!--Script files-->
    <script th:src="@{js/header.js}" type="application/javascript"></script>
    <script th:src="@{js/general.js}" type="application/javascript"></script>

    <!--WEBSOCKET SCRIPTS-->
    <script src="webjars/sockjs-client/sockjs.min.js"></script>
    <script src="webjars/stomp__stompjs/bundles/stomp.umd.min.js"></script>

</head>


<body>

<!--The header fragment-->
<div class="headerBar" th:fragment="header">
    <script th:inline="javascript">
        /*<![CDATA[*/
        let userRoles = /*[[${user.getRolesList()}]]*/ 'default'; /*]]>*/
    </script>
    <div class="profileNav" id="navbar">
        <div class="profileDropdown" th:object="${user}">
            <img alt="Your profile photo!" class="profilePic" id="profile" th:if="${user != null}"
                 th:src="${user.profileImagePath}">
            <p class="username" th:if="${user != null}" th:text="${user.username}"></p>
            <svg class="bi bi-caret-down" fill="currentColor" height="16" viewBox="0 0 16 16" width="16"
                 xmlns="http://www.w3.org/2000/svg">
                <path d="M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"/>
            </svg>
        </div>
        <div>
            <div class="dropdown-content" id="dropdownContent" style="display: none">
                <a class="account" th:href="@{account}">Account</a>
                <a class="portfolio" th:href="@{portfolio?projectId=1}" >Portfolio</a>
                <a th:href="@{evidence}">Evidence</a>
                <a th:href="@{calendar?projectId=1}">Calendar</a>
                <a th:href="@{groups}">Groups</a>
                <a th:href="@{user-list}">View Users</a>
                <a class="logout" href="logout">Log Out</a><br>
            </div>
        </div>
    </div>
</div>


<div th:fragment="errorBox">
    <div class="errorMessageParent alert alert-danger alert-dismissible fade show" role="alert" style="display: none">
        <p class="errorMessage" th:text="${errorMessage}"></p>
    </div>
</div>

<div th:fragment="infoBox">
    <div class="infoMessageParent alert alert-primary alert-dismissible fade show" role="alert" style="display: none">
        <p class="infoMessage" th:text="${infoMessage}"></p>
        <button aria-label="Close" class="btn-close" data-bs-dismiss="alert" type="button"></button>
    </div>
</div>

<div th:fragment="successBox">
    <div class="successMessageParent alert alert-success alert-dismissible fade show" role="alert"
         style="display: none">
        <p class="successMessage" th:text="${successMessage}"></p>
        <button aria-label="Close" class="btn-close" data-bs-dismiss="alert" type="button"></button>
    </div>
</div>
<!--<aside>-->
<!--    <div>This is a sidebar</div>-->
<!--</aside>-->
<!--<div class="another">This is another sidebar</div>-->
<!--<footer th:fragment="footer">-->
<!--    <a th:href="@{/fragments}">Fragments Index</a> |-->
<!--    <a th:href="@{/markup}">Markup inclussion</a> |-->
<!--    <a th:href="@{/params}">Fragment params</a> |-->
<!--    <a th:href="@{/other}">Other</a>-->
<!--</footer>-->
</body>
</html>