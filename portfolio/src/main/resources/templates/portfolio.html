<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title>Lensfolio | Portfolio</title>
    <!--/*/ <th:block th:include="fragments/general.html :: headerfiles">
            </th:block> /*/-->


</head>
<body>
<!--The below section <header> pulls the fragment from fragments/general-->
<header th:insert="fragments/general.html :: header"></header>

<section>
    <script th:inline="javascript">
        /*<![CDATA[*/

        let projectStart = /*[[${project.getStartDateAsLocalDateTime()}]]*/ 'default';
        let projectId = /*[[${project.getId()}]]*/ 'default';
        let projectEnd = /*[[${project.getEndDateAsLocalDateTime()}]]*/ 'default';
        let eventNameLengthRestriction = /*[[${eventNameLengthRestriction}]]*/ 'default';
        let titleRegex = /*[[${titleRegex}]]*/ 'default';
        let descriptionRegex = /*[[${descriptionRegex}]]*/ 'default';
        let occasionNameLengthRestriction = /*[[${occasionNameLengthRestriction}]]*/ 'default';
        let nextMilestoneName = /*[[${nextMilestoneName}]]*/ 'default';
        let nextEventName = /*[[${nextEventName}]]*/ 'default';

        /*]]>*/
    </script>

    <!--Below are the divs that handle error messages
            If there is an attribute with either "errorMessage", "successMessage", or "infoMessage,
            they will be displayed below-->
    <div th:insert="fragments/general.html :: errorBox"></div>
    <div th:insert="fragments/general.html :: successBox"></div>
    <div th:insert="fragments/general.html :: infoBox"></div>
    <div class="projectDetails">
        <div id="project-details">
            <h1 id="projectId" th:text="${project.getId()}" style="display: none"></h1>
            <div class="mb3">
                <h1 id="projectName" th:text="${project.getName()}"></h1>
            </div>
            <div class="row">
                <div class="col-2">
                    <h6>Start</h6>
                    <h6 id="project-start-date" th:text="${project.getStartDateFormatted()}"></h6>
                </div>
                <div class="col-2">
                    <h6>End</h6>
                    <h6 id="project-end-date" th:text="${project.getEndDateFormatted()}"></h6>
                </div>
            </div>
            <div class="mb-3">
                <p th:text="${project.getDescription()}"></p>
            </div>
        </div>


        <div th:if="${userCanEdit == true}">
            <button class="project-add-sprint-button authenticated-user noStyleButton addSprint" id="projectAddSprint"
                    data-bs-toggle="tooltip" data-bs-placement="top" title="Add Sprint!">
                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor"
                     class="bi bi-plus-circle-fill addSprintSvg" viewBox="0 0 16 16">
                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/>
                </svg>
            </button>
            <button class="btn btn-outline-success project-add-sprint-button authenticated-user" id="projectEditSprint">
                Edit Project
            </button>
        </div>


    </div>
    <div class="projectContainer">
        <div class="eventContainer" id="eventContainer">
            <div class="eventContainer">
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <button class="nav-link active" id="eventsTab" data-bs-toggle="tab" data-bs-target="#events"
                                role="tab">Events
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" id="deadlinesTab" data-bs-toggle="tab" data-bs-target="#deadlines"
                                role="tab">Deadlines
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" id="milestonesTab" data-bs-toggle="tab" data-bs-target="#milestones"
                                role="tab">Milestones
                        </button>
                    </li>
                </ul>


                <div class="tab-content" id="tabContent">

                    <!---------------------------------------- Events tab  ------------------------------------------>
                    <div class="tab-pane fade show active" id="events" role="tabpanel">
                        <div class="mb-2 occasionAddButton">
                            <button type="button" class="addEventButton noStyleButton" th:if="${userCanEdit == true}"
                                    data-bs-toggle="tooltip" data-bs-placement="right" title="Create Event">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                     class="bi bi-plus-circle addEventSvg" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                </svg>
                            </button>
                        </div>

                        <div class="addEventForm" style="display: none" th:if="${userCanEdit == true}">
                            <form id="addEventForm">
                                <div class="mb-1">
                                    <label for="eventName" class="form-label">Event name</label>
                                    <input type="text" class="form-control form-control-sm"
                                           th:maxLength="${occasionNameLengthRestriction}" name="eventName"
                                           th:placeholder="${nextEventName}" th:value="${nextEventName}"
                                           id="eventName"
                                           required>
                                    <small class="form-text text-muted countChar">0 characters remaining</small>
                                </div>
                                <div class="mb-3">
                                    <label for="exampleFormControlInput1" class="form-label">Type of event</label>
                                    <select class="form-select typeOfEvent" id="exampleFormControlInput1">
                                        <option value="1" selected>Event</option>
                                        <option value="2">Test</option>
                                        <option value="3">Meeting</option>
                                        <option value="4">Workshop</option>
                                        <option value="5">Special Event</option>
                                        <option value="6">Attention Required</option>
                                    </select>
                                </div>
                                <div class="row mb-1">
                                    <div class="col">
                                        <label for="eventStart" class="form-label">Start</label>
                                        <input type="datetime-local"
                                               class="form-control form-control-sm eventInputStartDate"
                                               th:value="${project.getStartDateAsLocalDateTime()}"
                                               th:min="${project.getStartDateAsLocalDateTime()}"
                                               th:max="${project.getEndDateAsLocalDateTime()}" name="eventStart"
                                               id="eventStart"
                                               required>
                                    </div>
                                    <div class="col">
                                        <label for="eventEnd" class="form-label">End</label>
                                        <input type="datetime-local"
                                               class="form-control form-control-sm eventInputEndDate"
                                               th:value="${project.getStartDateAsLocalDateTime()}"
                                               th:min="${project.getStartDateAsLocalDateTime()}"
                                               th:max="${project.getEndDateAsLocalDateTime()}" name="eventEnd"
                                               id="eventEnd"
                                               required>
                                    </div>
                                </div>
                                <div class="mb-1">
                                    <button type="submit" class="btn btn-primary" id="eventSubmit">Submit</button>
                                </div>
                            </form>
                        </div>
                        <!--                    <div th:each="event: ${events}" class="occasion">-->
                        <!--                        <p th:text="${event.id}" class="eventId" style="display: none"></p>-->
                        <!--                        <p th:text="${event.startDate}" class="eventStartDateNilFormat" style="display: none"></p>-->
                        <!--                        <p th:text="${event.dateTime}" class="eventEndDateNilFormat" style="display: none"></p>-->
                        <!--                        <p th:text="${event.type}" class="typeOfEvent" style="display: none"></p>-->
                        <!--                        <div class="mb-2 occasionTitleDiv">-->
                        <!--                            <div th:switch="${event.type}" class="occasionIcon">-->
                        <!--                                <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="Event" th:case="'1'"-->
                        <!--                                     xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"-->
                        <!--                                     class="bi bi-calendar-event" viewBox="0 0 16 16">-->
                        <!--                                    <path d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z"/>-->
                        <!--                                    <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>-->
                        <!--                                </svg>-->
                        <!--                                <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="Test" th:case="'2'"-->
                        <!--                                     xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"-->
                        <!--                                     class="bi bi-pencil-square" viewBox="0 0 16 16">-->
                        <!--                                    <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>-->
                        <!--                                    <path fill-rule="evenodd"-->
                        <!--                                          d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>-->
                        <!--                                </svg>-->
                        <!--                                <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="Meeting" th:case="'3'"-->
                        <!--                                     xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"-->
                        <!--                                     class="bi bi-cpu" viewBox="0 0 16 16">-->
                        <!--                                    <path d="M5 0a.5.5 0 0 1 .5.5V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2A2.5 2.5 0 0 1 14 4.5h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14a2.5 2.5 0 0 1-2.5 2.5v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14A2.5 2.5 0 0 1 2 11.5H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2A2.5 2.5 0 0 1 4.5 2V.5A.5.5 0 0 1 5 0zm-.5 3A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3h-7zM5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-3zM6.5 6a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"/>-->
                        <!--                                </svg>-->
                        <!--                                <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="Workshop" th:case="'4'"-->
                        <!--                                     xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"-->
                        <!--                                     class="bi bi-bookmark" viewBox="0 0 16 16">-->
                        <!--                                    <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>-->
                        <!--                                </svg>-->
                        <!--                                <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="'Special Event'"-->
                        <!--                                     th:case="'5'"-->
                        <!--                                     xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"-->
                        <!--                                     class="bi bi-bell" viewBox="0 0 16 16">-->
                        <!--                                    <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"/>-->
                        <!--                                </svg>-->
                        <!--                                <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="Important" th:case="'6'"-->
                        <!--                                     xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"-->
                        <!--                                     class="bi bi-exclamation" viewBox="0 0 16 16">-->
                        <!--                                    <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.553.553 0 0 1-1.1 0L7.1 4.995z"/>-->
                        <!--                                </svg>-->
                        <!--                            </div>-->
                        <!--                            <p th:text="${event.name}" class="eventName"></p>-->
                        <!--                        </div>-->

                        <!--                        <button class="eventEditButton noStyleButton" th:if="${userCanEdit == true}"-->
                        <!--                                data-bs-toggle="tooltip" data-bs-placement="top" title="Edit Event">-->
                        <!--                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"-->
                        <!--                                 class="bi bi-wrench-adjustable-circle" viewBox="0 0 16 16">-->
                        <!--                                <path d="M12.496 8a4.491 4.491 0 0 1-1.703 3.526L9.497 8.5l2.959-1.11c.027.2.04.403.04.61Z"/>-->
                        <!--                                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0Zm-1 0a7 7 0 1 0-13.202 3.249l1.988-1.657a4.5 4.5 0 0 1 7.537-4.623L7.497 6.5l1 2.5 1.333 3.11c-.56.251-1.18.39-1.833.39a4.49 4.49 0 0 1-1.592-.29L4.747 14.2A7 7 0 0 0 15 8Zm-8.295.139a.25.25 0 0 0-.288-.376l-1.5.5.159.474.808-.27-.595.894a.25.25 0 0 0 .287.376l.808-.27-.595.894a.25.25 0 0 0 .287.376l1.5-.5-.159-.474-.808.27.596-.894a.25.25 0 0 0-.288-.376l-.808.27.596-.894Z"/>-->
                        <!--                            </svg>-->
                        <!--                        </button>-->
                        <!--                        <button type="button" class="eventDeleteButton noStyleButton" th:if="${userCanEdit == true}"-->
                        <!--                                data-bs-toggle="tooltip" data-bs-placement="top" title="Delete Event">-->
                        <!--                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"-->
                        <!--                                 class="bi bi-x-circle" viewBox="0 0 16 16">-->
                        <!--                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>-->
                        <!--                                <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>-->
                        <!--                            </svg>-->
                        <!--                        </button>-->
                        <!--                        <div class="eventDateDiv">-->
                        <!--                            <p th:text="|Start Date: ${event.getStartDateFormatted()}| " class="eventStart"></p>-->
                        <!--                            <p th:text="|End Date: ${event.getEndDateFormatted()}|" class="eventEnd"></p>-->
                        <!--                        </div>-->
                        <!--                    </div>-->
                    </div>
                    <!--------------------------------------- Deadlines tab  ---------------------------------------->
                    <div class="tab-pane fade show" id="deadlines" role="tabpanel">
                        <div class="mb-2 occasionAddButton">
                            <button type="button" class="addOccasionButton noStyleButton" th:if="${userCanEdit == true}"
                                    data-bs-toggle="tooltip" data-bs-placement="right" title="Create Deadline">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                     class="bi bi-plus-circle addEventSvg" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                </svg>
                            </button>
                        </div>

                        <div class="deadlineForm" style="display: none" th:if="${userCanEdit == true}">
                            <form>
                                <div class="mb-1">
                                    <label for="deadlineName" class="form-label">Deadlines name</label>
                                    <input type="text" class="form-control form-control-sm"
                                           th:maxlength="${occasionNameLengthRestriction}" name="occasionName"
                                           id="deadlineName"
                                           required>
                                    <small class="form-text text-muted countChar">0 characters remaining</small>
                                </div>
                                <div class="mb-3">
                                    <label for="exampleFormControlInput3" class="form-label">Type of deadline</label>
                                    <select class="form-select typeOfDeadline" id="exampleFormControlInput3">
                                        <option value="1" selected>Event</option>
                                        <option value="2">Test</option>
                                        <option value="3">Meeting</option>
                                        <option value="4">Workshop</option>
                                        <option value="5">Special Event</option>
                                        <option value="6">Attention Required</option>
                                    </select>
                                </div>
                                <div class="row mb-1">
                                    <div class="col">
                                        <label for="deadlineEnd" class="form-label">End</label>
                                        <input type="date"
                                               class="form-control form-control-sm deadlineInputEndDate"
                                               th:value="${project.getStartDateAsLocalDateTime()}"
                                               th:min="${project.getStartDateAsLocalDateTime()}"
                                               th:max="${project.getEndDateAsLocalDateTime()}" name="deadlineEnd"
                                               id="deadlineEnd"
                                               required>
                                    </div>
                                </div>
                                <div class="mb-1">
                                    <button type="submit" class="btn btn-primary" id="deadlineSubmit">Submit</button>
                                </div>
                            </form>
                        </div>
                        <div th:each="deadline: ${deadlines}" class="occasion">
                            <p th:text="${deadline.id}" class="deadlineId" style="display: none"></p>
                            <p th:text="${deadline.dateTime}" class="deadlineEndDateNilFormat"
                               style="display: none"></p>
                            <p th:text="${deadline.type}" class="typeOfDeadline" style="display: none"></p>
                            <div class="mb-2 occasionTitleDiv">
                                <div th:switch="${deadline.type}" class="occasionIcon">
                                    <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="Event" th:case="'1'"
                                         xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                         class="bi bi-calendar-deadline" viewBox="0 0 16 16">
                                        <path d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z"/>
                                        <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
                                    </svg>
                                    <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="Test" th:case="'2'"
                                         xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                         class="bi bi-pencil-square" viewBox="0 0 16 16">
                                        <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                                        <path fill-rule="evenodd"
                                              d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                                    </svg>
                                    <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="Meeting"
                                         th:case="'3'"
                                         xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                         class="bi bi-cpu" viewBox="0 0 16 16">
                                        <path d="M5 0a.5.5 0 0 1 .5.5V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2A2.5 2.5 0 0 1 14 4.5h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14a2.5 2.5 0 0 1-2.5 2.5v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14A2.5 2.5 0 0 1 2 11.5H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2A2.5 2.5 0 0 1 4.5 2V.5A.5.5 0 0 1 5 0zm-.5 3A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3h-7zM5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-3zM6.5 6a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"/>
                                    </svg>
                                    <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="Workshop"
                                         th:case="'4'"
                                         xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                         class="bi bi-bookmark" viewBox="0 0 16 16">
                                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                                    </svg>
                                    <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="'Special Event'"
                                         th:case="'5'"
                                         xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                         class="bi bi-bell" viewBox="0 0 16 16">
                                        <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"/>
                                    </svg>
                                    <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="Important"
                                         th:case="'6'"
                                         xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                         class="bi bi-exclamation" viewBox="0 0 16 16">
                                        <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.553.553 0 0 1-1.1 0L7.1 4.995z"/>
                                    </svg>
                                </div>
                                <p th:text="${deadline.name}" class="occasionName"></p>
                            </div>
                            <button class="deadlineEditButton noStyleButton" th:if="${userCanEdit == true}"
                                    data-bs-toggle="tooltip"
                                    data-bs-placement="top" title="Edit Deadline">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                     class="bi bi-wrench-adjustable-circle" viewBox="0 0 16 16">
                                    <path d="M12.496 8a4.491 4.491 0 0 1-1.703 3.526L9.497 8.5l2.959-1.11c.027.2.04.403.04.61Z"/>
                                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0Zm-1 0a7 7 0 1 0-13.202 3.249l1.988-1.657a4.5 4.5 0 0 1 7.537-4.623L7.497 6.5l1 2.5 1.333 3.11c-.56.251-1.18.39-1.833.39a4.49 4.49 0 0 1-1.592-.29L4.747 14.2A7 7 0 0 0 15 8Zm-8.295.139a.25.25 0 0 0-.288-.376l-1.5.5.159.474.808-.27-.595.894a.25.25 0 0 0 .287.376l.808-.27-.595.894a.25.25 0 0 0 .287.376l1.5-.5-.159-.474-.808.27.596-.894a.25.25 0 0 0-.288-.376l-.808.27.596-.894Z"/>
                                </svg>
                            </button>
                            <button type="button" class="deadlineDeleteButton noStyleButton"
                                    th:if="${userCanEdit == true}"
                                    data-bs-toggle="tooltip" data-bs-placement="top" title="Delete Deadline">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                     class="bi bi-x-circle" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                </svg>
                            </button>
                            <div class="deadlineDateDiv">
                                <p th:text="|Date: ${deadline.getEndDateFormatted()}|" class="deadlineEnd"></p>
                            </div>
                        </div>
                    </div>
                    <!--------------------------------------- Milestones tab  --------------------------------------->
                    <div class="tab-pane fade show" id="milestones" role="tabpanel">
                        <div class="mb-2 occasionAddButton">
                            <button type="button" class="addMilestoneButton noStyleButton"
                                    th:if="${userCanEdit == true}"
                                    data-bs-toggle="tooltip" data-bs-placement="right" title="Create Milestone">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                     class="bi bi-plus-circle addMilestoneSvg" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                </svg>
                            </button>
                        </div>

                        <div class="milestoneForm" style="display: none" th:if="${userCanEdit == true}">
                            <form>
                                <div class="mb-1">
                                    <label for="milestoneName" class="form-label">Milestone name</label>
                                    <input type="text" class="form-control form-control-sm"
                                           th:maxLength="${occasionNameLengthRestriction}" name="milestoneName"
                                           th:placeholder="${nextMilestoneName}" th:value="${nextMilestoneName}"
                                           id="milestoneName"
                                           required>
                                    <small class="form-text text-muted countChar">0 characters remaining</small>
                                </div>
                                <div class="mb-3">
                                    <label for="exampleFormControlInput2" class="form-label">Type of milestone</label>
                                    <select class="form-select typeOfMilestone" id="exampleFormControlInput2">
                                        <option value="1" selected>Event</option>
                                        <option value="2">Test</option>
                                        <option value="3">Meeting</option>
                                        <option value="4">Workshop</option>
                                        <option value="5">Special Event</option>
                                        <option value="6">Attention Required</option>
                                    </select>
                                </div>
                                <div class="row mb-1">
                                    <div class="col">
                                        <label for="milestoneEnd" class="form-label">End</label>
                                        <input type="date"
                                               class="form-control form-control-sm milestoneInputEndDate"
                                               th:value="${project.getStartDateAsLocalDateTime().toLocalDate()}"
                                               th:min="${project.getStartDateAsLocalDateTime().toLocalDate()}"
                                               th:max="${project.getEndDateAsLocalDateTime().toLocalDate()}"
                                               name="milestoneEnd"
                                               id="milestoneEnd"
                                               required>
                                    </div>
                                </div>
                                <div class="mb-1">
                                    <button type="submit" class="btn btn-primary" id="milestoneSubmit">Submit</button>
                                </div>
                            </form>
                        </div>
                        <div th:each="milestone: ${milestones}" class="occasion">
                            <p th:text="${milestone.id}" class="milestoneId" style="display: none"></p>
                            <p th:text="${milestone.endDate}" class="milestoneEndDateNilFormat"
                               style="display: none"></p>
                            <p th:text="${milestone.type}" class="typeOfMilestone" style="display: none"></p>
                            <div class="mb-2 occasionTitleDiv">
                                <div th:switch="${milestone.type}" class="occasionIcon">
                                    <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="Event" th:case="'1'"
                                         xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                         class="bi bi-calendar-milestone" viewBox="0 0 16 16">
                                        <path d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z"/>
                                        <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
                                    </svg>
                                    <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="Test" th:case="'2'"
                                         xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                         class="bi bi-pencil-square" viewBox="0 0 16 16">
                                        <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                                        <path fill-rule="evenodd"
                                              d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                                    </svg>
                                    <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="Meeting"
                                         th:case="'3'"
                                         xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                         class="bi bi-cpu" viewBox="0 0 16 16">
                                        <path d="M5 0a.5.5 0 0 1 .5.5V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2A2.5 2.5 0 0 1 14 4.5h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14a2.5 2.5 0 0 1-2.5 2.5v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14A2.5 2.5 0 0 1 2 11.5H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2A2.5 2.5 0 0 1 4.5 2V.5A.5.5 0 0 1 5 0zm-.5 3A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3h-7zM5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-3zM6.5 6a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"/>
                                    </svg>
                                    <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="Workshop"
                                         th:case="'4'"
                                         xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                         class="bi bi-bookmark" viewBox="0 0 16 16">
                                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                                    </svg>
                                    <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="'Special Event'"
                                         th:case="'5'"
                                         xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                         class="bi bi-bell" viewBox="0 0 16 16">
                                        <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"/>
                                    </svg>
                                    <svg data-bs-toggle="tooltip" data-bs-placement="top" th:title="Important"
                                         th:case="'6'"
                                         xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                         class="bi bi-exclamation" viewBox="0 0 16 16">
                                        <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.553.553 0 0 1-1.1 0L7.1 4.995z"/>
                                    </svg>
                                </div>
                                <p th:text="${milestone.name}" class="milestoneName"></p>
                            </div>
                            <button class="milestoneEditButton noStyleButton" th:if="${userCanEdit == true}"
                                    data-bs-toggle="tooltip"
                                    data-bs-placement="top" title="Edit Milestone">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                     class="bi bi-wrench-adjustable-circle" viewBox="0 0 16 16">
                                    <path d="M12.496 8a4.491 4.491 0 0 1-1.703 3.526L9.497 8.5l2.959-1.11c.027.2.04.403.04.61Z"/>
                                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0Zm-1 0a7 7 0 1 0-13.202 3.249l1.988-1.657a4.5 4.5 0 0 1 7.537-4.623L7.497 6.5l1 2.5 1.333 3.11c-.56.251-1.18.39-1.833.39a4.49 4.49 0 0 1-1.592-.29L4.747 14.2A7 7 0 0 0 15 8Zm-8.295.139a.25.25 0 0 0-.288-.376l-1.5.5.159.474.808-.27-.595.894a.25.25 0 0 0 .287.376l.808-.27-.595.894a.25.25 0 0 0 .287.376l1.5-.5-.159-.474-.808.27.596-.894a.25.25 0 0 0-.288-.376l-.808.27.596-.894Z"/>
                                </svg>
                            </button>
                            <button type="button" class="milestoneDeleteButton noStyleButton"
                                    th:if="${userCanEdit == true}"
                                    data-bs-toggle="tooltip" data-bs-placement="top" title="Delete Milestone">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                                     class="bi bi-x-circle" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                </svg>
                            </button>
                            <div class="milestoneDateDiv">
                                <p th:text="|Date: ${milestone.getEndDateFormatted()}|" class="milestoneEnd"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="sprintsContainer">
            <div class="sprintAddAlert alert alert-danger alert-dismissible fade show" role="alert"
                 style="display: none">
                <p class="sprintAddErrorMessage"></p>
                <button type="button" class="collapseAlert btn-close" aria-label="Close"></button>
            </div>
            <div th:each=" sprint: ${sprints}" class="sprint" style=""
                 th:attrappend="style=${'border-left: solid 0.3rem ' + sprint.getColour() + ' ;border-right: solid 0.3rem ' + sprint.getColour()}">
                <p class="sprintColour" style="display: none" th:text="${sprint.colour}"></p>
                <p class="sprintId" style="display: none" th:text="${sprint.id}"></p>
                <p class="sprintLabel" th:text="'Sprint ' + ${sprintStat.index + 1}"></p>
                <div class="row">
                    <div class="col">
                        <h2 th:text="${sprint.name}"></h2>
                        <div th:each="event: ${sprint.getEventList()}" class="eventInSprint">
                            <p th:text="${event.getName()} + ':'"></p>
                            <p th:if="${event.startDate.toLocalDate().isAfter(sprint.startDate.minusDays(1)) && event.startDate.toLocalDate().isBefore(sprint.endDate.plusDays(1))}"
                               th:text="${event.getStartDateFormatted()}"
                               th:style="'color: ' + ${event.startDateColour}" class="bold" data-bs-toggle="tooltip"
                               data-bs-placement="top" title="Event will start this sprint"></p>
                            <p th:unless="${event.startDate.toLocalDate().isAfter(sprint.startDate.minusDays(1)) && event.startDate.toLocalDate().isBefore(sprint.endDate.plusDays(1))}"
                               th:text="${event.getStartDateFormatted()}"
                               th:style="'color: ' + ${event.startDateColour}"></p>
                            <p>-</p>
                            <p th:if="${event.endDate.isAfter(sprint.startDate.minusDays(1)) && event.endDate.isBefore(sprint.endDate.plusDays(1))}"
                               th:text="${event.getEndDateFormatted()}"
                               th:style="'color: ' + ${event.endDateColour}"
                               class="bold" data-bs-toggle="tooltip" data-bs-placement="top"
                               title="Event will end this sprint"></p>
                            <p th:unless="${event.endDate.isAfter(sprint.startDate.minusDays(1)) && event.endDate.isBefore(sprint.endDate.plusDays(1))}"
                               th:text="${event.getEndDateFormatted()}"
                               th:style="'color: ' + ${event.endDateColour}"></p>

                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <h6>Start</h6>
                        <h6 th:text="${sprint.getStartDateFormatted()}"></h6>
                    </div>
                    <div class="col">
                        <h6>End</h6>
                        <h6 th:text="${sprint.getEndDateFormatted()}"></h6>
                    </div>
                </div>
                <div class="mb-3">
                    <p th:text="${sprint.description}"></p>
                </div>
                <div class="mb3" th:if="${userCanEdit == true}">

                    <button type="button" class="deleteSprint noStyleButton sprintButton" data-bs-toggle="tooltip"
                            data-bs-placement="top" title="Delete Sprint">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                             class="bi bi-x-circle" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                        </svg>
                    </button>
                    <button type="button" class="editSprint noStyleButton sprintButton" data-bs-toggle="tooltip"
                            data-bs-placement="top" title="Edit Sprint">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                             class="bi bi-wrench-adjustable-circle" viewBox="0 0 16 16">
                            <path d="M12.496 8a4.491 4.491 0 0 1-1.703 3.526L9.497 8.5l2.959-1.11c.027.2.04.403.04.61Z"/>
                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0Zm-1 0a7 7 0 1 0-13.202 3.249l1.988-1.657a4.5 4.5 0 0 1 7.537-4.623L7.497 6.5l1 2.5 1.333 3.11c-.56.251-1.18.39-1.833.39a4.49 4.49 0 0 1-1.592-.29L4.747 14.2A7 7 0 0 0 15 8Zm-8.295.139a.25.25 0 0 0-.288-.376l-1.5.5.159.474.808-.27-.595.894a.25.25 0 0 0 .287.376l.808-.27-.595.894a.25.25 0 0 0 .287.376l1.5-.5-.159-.474-.808.27.596-.894a.25.25 0 0 0-.288-.376l-.808.27.596-.894Z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>


</body>
<script type="application/javascript" th:src="@{js/project.js}"></script>
<script type="application/javascript" th:src="@{js/events.js}"></script>
</html>